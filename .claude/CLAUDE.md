# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Project Overview

AI Skills Manager (ASM) is a TypeScript CLI tool for managing Claude Code Agent Skills. It enables creating, testing, distributing, installing, updating, and removing skills for the Claude Code skills system.

> **Note:** The project-level skills previously bundled in `.claude/skills/` have been migrated to a public repository at https://github.com/lwndev/lwndev-agent-skills. Install them from there for personal use (`~/.claude/skills/`) or project use.

## Development Commands

```bash
# Install dependencies
npm install

# Build the project (compiles TypeScript to dist/)
npm run build

# Run tests
npm test

# Run tests for a specific file
npm test -- tests/path/to/file.test.ts

# Run tests with coverage
npm run test:coverage

# Run linter
npm run lint

# Run linter with auto-fix
npm run lint:fix

# Full quality check (lint + test:coverage + audit)
npm run quality
```

## Testing and Linting

Use `npm test` or run tests for a specific file or files (example: `npm test -- tests/path/to/file.test.ts`) for granular checks.

Code is considered complete and functional only when `npm run quality` passes. 

## Project Structure

- `src/` - TypeScript source code
  - `index.ts` - Main entry point
  - `skills/vendor/` - Vendor-specific skill implementations
- `requirements/` - Project requirements documentation
  - `features/` - Feature specifications
  - `implementation/` - Implementation details
- `docs/` - Documentation
- `dist/` - Compiled output (generated by build)

## Dependencies

- Node.js and NPM
- TypeScript 5.5+
- Claude Code CLI

## Skills Reference Material

Skills documentation is split between two sources:

### Anthropic's Official Documentation (`docs/anthropic/skills/`)

Anthropic's documentation covers Claude Code's implementation of skills:

- **Agent Skills Overview** - `agent-skills-overview-20251229.md`
  - [Source](https://platform.claude.com/docs/en/agents-and-tools/agent-skills/overview)
- **Agent Skills Quickstart** - `agent-skills-quickstart-20251229.md`
  - [Source](https://platform.claude.com/docs/en/agents-and-tools/agent-skills/quickstart)
- **Agent Skills Best Practices** - `agent-skills-best-practices-20251229.md`
  - [Source](https://platform.claude.com/docs/en/agents-and-tools/agent-skills/best-practices)

### Open Source Agent Skills Specification (`docs/agent-skills-io/`)

The open source specification from [agentskills.io](https://agentskills.io) defines a vendor-neutral format:

- **Agent Skills Overview** - `agent-skills-oveview.md`
- **What Are Skills** - `agent-skills-what-are-skills.md`
- **Agent Skills Specification** - `agent-skills-specification.md`
  - [Source](https://agentskills.io/specification)

## Code Style Guidelines

### Use Discriminated Unions for Result Types

When creating result types that have success/failure branches, use **discriminated unions** instead of interfaces with optional properties. This enables TypeScript to narrow types automatically and eliminates the need for non-null assertions (`!`).

**Avoid this pattern:**
```typescript
interface Result {
  valid: boolean;
  error?: Error;
  data?: Data;
}
// Requires non-null assertions: result.data!
```

**Use this pattern:**
```typescript
type Result =
  | { valid: true; data: Data }
  | { valid: false; error: Error };
// TypeScript narrows automatically after: if (!result.valid) { ... }
```

This approach:
- Is type-safe with no runtime assertions needed
- Catches bugs at compile time if you forget to handle a case
- Follows the pattern used throughout this codebase (e.g., `UpdateResultUnion`, `SkillDiscoveryResult`)